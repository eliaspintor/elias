<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elias Art Gallery - Pinturas Premium</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Incluir Supabase JS -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --azul-profundo: #0a2463;
            --azul-royal: #1e3a8a;
            --azul-vibrante: #2563eb;
            --azul-celeste: #3b82f6;
            --azul-turquesa: #06b6d4;
            --azul-neon: #00d4ff;
            --azul-claro: #60a5fa;
            --azul-pastel: #93c5fd;
            --azul-gelo: #dbeafe;
            --ouro-premium: #fbbf24;
            --prata-elegante: #e5e7eb;
            --preto-sophisticado: #111827;
            --branco-puro: #ffffff;
            --gradiente-azul: linear-gradient(135deg, var(--azul-profundo), var(--azul-turquesa));
            --gradiente-dourado: linear-gradient(135deg, var(--ouro-premium), #f59e0b);
            --sombra-premium: 0 20px 40px rgba(10, 36, 99, 0.15);
            --sombra-elevada: 0 25px 50px rgba(0, 0, 0, 0.25);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--azul-gelo) 0%, var(--branco-puro) 100%);
            color: var(--preto-sophisticado);
            min-height: 100vh;
            line-height: 1.6;
        }

        /* Header Premium */
        header {
            background: var(--gradiente-azul);
            color: white;
            padding: 1.2rem 0;
            box-shadow: var(--sombra-premium);
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border-bottom: 3px solid var(--ouro-premium);
        }

        .header-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            text-decoration: none;
        }

        .logo-icon {
            font-size: 2.8rem;
            color: var(--ouro-premium);
            text-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo-text h1 {
            font-size: 2rem;
            font-weight: 800;
            letter-spacing: -0.5px;
            background: linear-gradient(45deg, white, var(--azul-neon));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo-text span {
            font-size: 0.9rem;
            color: var(--azul-pastel);
            font-weight: 500;
            letter-spacing: 1.5px;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            padding: 0.7rem 1.5rem;
            border-radius: 50px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        nav a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }

        nav a:hover::before {
            left: 100%;
        }

        nav a:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .nav-icon {
            display: none;
            font-size: 1.8rem;
            cursor: pointer;
            color: white;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, rgba(10, 36, 99, 0.9), rgba(6, 182, 212, 0.8)),
                        url('https://images.unsplash.com/photo-1541961017774-22349e4a1262?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80');
            background-size: cover;
            background-position: center;
            padding: 6rem 2rem;
            text-align: center;
            color: white;
            margin-bottom: 4rem;
            border-radius: 0 0 40px 40px;
            position: relative;
            overflow: hidden;
        }

        .hero::after {
            content: '';
            position: absolute;
            bottom: -50px;
            left: -50px;
            right: -50px;
            height: 100px;
            background: var(--branco-puro);
            transform: rotate(-2deg);
        }

        .hero h2 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            font-weight: 800;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .hero p {
            font-size: 1.3rem;
            max-width: 600px;
            margin: 0 auto 2rem;
            opacity: 0.9;
        }

        /* Container principal */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 1;
        }

        /* Se√ß√µes */
        .section-title {
            font-size: 2.5rem;
            color: var(--azul-profundo);
            margin-bottom: 3rem;
            padding-bottom: 1rem;
            position: relative;
            display: inline-block;
            font-weight: 800;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 4px;
            background: var(--gradiente-dourado);
            border-radius: 2px;
        }

        /* Produtos Premium */
        .produtos-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2.5rem;
            margin-bottom: 5rem;
        }

        .produto-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--sombra-premium);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            position: relative;
        }

        .produto-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: var(--sombra-elevada);
            border-color: var(--azul-celeste);
        }

        .produto-card::before {
            content: 'EXCLUSIVO';
            position: absolute;
            top: 20px;
            right: -35px;
            background: var(--gradiente-dourado);
            color: white;
            padding: 8px 40px;
            font-size: 0.8rem;
            font-weight: 700;
            transform: rotate(45deg);
            z-index: 2;
            letter-spacing: 1px;
        }

        .produto-img {
            height: 250px;
            width: 100%;
            object-fit: cover;
            border-bottom: 3px solid var(--azul-claro);
            transition: transform 0.5s ease;
        }

        .produto-card:hover .produto-img {
            transform: scale(1.05);
        }

        .produto-info {
            padding: 1.8rem;
        }

        .produto-titulo {
            font-size: 1.4rem;
            color: var(--azul-profundo);
            margin-bottom: 0.8rem;
            font-weight: 700;
            line-height: 1.3;
        }

        .produto-desc {
            color: #4b5563;
            font-size: 1rem;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .produto-preco {
            font-size: 1.8rem;
            font-weight: 900;
            color: var(--azul-vibrante);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .produto-preco::before {
            content: "R$";
            font-size: 1.2rem;
            color: var(--azul-turquesa);
            font-weight: 600;
        }

        .btn-comprar {
            display: block;
            width: 100%;
            background: var(--gradiente-azul);
            color: white;
            border: none;
            padding: 1.2rem;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            text-decoration: none;
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn-comprar::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn-comprar:hover::after {
            width: 300px;
            height: 300px;
        }

        .btn-comprar:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(37, 99, 235, 0.4);
        }

        .btn-whatsapp {
            background: linear-gradient(135deg, #25D366, #128C7E);
            box-shadow: 0 8px 20px rgba(37, 211, 102, 0.3);
        }

        .btn-whatsapp:hover {
            background: linear-gradient(135deg, #128C7E, #075E54);
            box-shadow: 0 15px 30px rgba(37, 211, 102, 0.4);
        }

        /* Formul√°rios */
        .form-container {
            background: white;
            border-radius: 25px;
            padding: 3rem;
            box-shadow: var(--sombra-premium);
            margin-bottom: 4rem;
            border: 2px solid var(--azul-pastel);
            position: relative;
            overflow: hidden;
        }

        .form-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: var(--gradiente-azul);
        }

        .form-group {
            margin-bottom: 2rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.8rem;
            font-weight: 700;
            color: var(--azul-profundo);
            font-size: 1.1rem;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 1.2rem;
            border: 2px solid var(--azul-pastel);
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: var(--azul-gelo);
        }

        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--azul-turquesa);
            box-shadow: 0 0 0 4px rgba(6, 182, 212, 0.2);
            background: white;
        }

        .file-upload {
            border: 2px dashed var(--azul-claro);
            padding: 2rem;
            text-align: center;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--azul-gelo);
        }

        .file-upload:hover {
            border-color: var(--azul-turquesa);
            background: rgba(59, 130, 246, 0.05);
        }

        .file-preview {
            max-width: 200px;
            max-height: 200px;
            margin-top: 1rem;
            border-radius: 8px;
            display: none;
        }

        .btn-enviar {
            background: var(--gradiente-azul);
            color: white;
            border: none;
            padding: 1.2rem 3rem;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.3);
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .btn-enviar:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(37, 99, 235, 0.4);
        }

        /* Galeria Premium */
        .galeria-container {
            background: white;
            border-radius: 25px;
            padding: 3rem;
            box-shadow: var(--sombra-premium);
            margin-bottom: 4rem;
            border: 2px solid var(--azul-pastel);
        }

        .galeria {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.8rem;
        }

        .foto-item {
            height: 220px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0, 102, 255, 0.15);
            transition: all 0.4s ease;
            position: relative;
        }

        .foto-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .foto-item:hover {
            transform: scale(1.05);
            box-shadow: 0 20px 40px rgba(0, 102, 255, 0.25);
        }

        .foto-item:hover img {
            transform: scale(1.1);
        }

        .foto-item::after {
            content: 'üîç';
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .foto-item:hover::after {
            opacity: 1;
        }

        /* √Årea Administrativa Premium */
        .admin-container {
            background: white;
            border-radius: 25px;
            padding: 3rem;
            box-shadow: var(--sombra-premium);
            margin-bottom: 4rem;
            border: 2px solid var(--azul-pastel);
            display: none;
        }

        .admin-login {
            max-width: 450px;
            margin: 0 auto;
            text-align: center;
        }

        .admin-login h3 {
            margin-bottom: 2rem;
            color: var(--azul-profundo);
            font-size: 2rem;
        }

        .admin-area {
            display: none;
        }

        .admin-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .admin-btn {
            background: var(--gradiente-azul);
            color: white;
            border: none;
            padding: 1.2rem;
            border-radius: 12px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 1rem;
        }

        .admin-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(37, 99, 235, 0.4);
        }

        .btn-excluir {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            box-shadow: 0 8px 20px rgba(239, 68, 68, 0.3);
        }

        .btn-excluir:hover {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            box-shadow: 0 15px 30px rgba(239, 68, 68, 0.4);
        }

        /* Loading e feedback */
        .spinner {
            width: 24px;
            height: 24px;
            border: 3px solid var(--azul-pastel);
            border-top-color: var(--azul-vibrante);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(10, 36, 99, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
        }

        .loading-overlay p {
            margin-top: 20px;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .mensagem {
            padding: 15px;
            border-radius: 12px;
            margin: 15px 0;
            font-weight: 600;
            text-align: center;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .mensagem.sucesso {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }

        .mensagem.erro {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
        }

        .mensagem.info {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
        }

        /* Footer Premium */
        footer {
            background: var(--gradiente-azul);
            color: white;
            padding: 4rem 0 2rem;
            margin-top: 6rem;
            position: relative;
        }

        footer::before {
            content: '';
            position: absolute;
            top: -50px;
            left: 0;
            right: 0;
            height: 100px;
            background: white;
            transform: rotate(2deg);
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            text-align: center;
        }

        .footer-content p {
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .footer-content i {
            color: var(--ouro-premium);
            margin-right: 10px;
        }

        .creditos {
            font-size: 1rem;
            color: var(--azul-neon);
            margin-top: 2rem;
            font-weight: 600;
            padding-top: 2rem;
            border-top: 2px solid rgba(255, 255, 255, 0.1);
        }

        /* Modal para visualizar foto */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            z-index: 9998;
            justify-content: center;
            align-items: center;
        }

        .modal img {
            max-width: 90%;
            max-height: 90%;
            border-radius: 10px;
            box-shadow: 0 0 40px rgba(0, 212, 255, 0.5);
        }

        .modal-fechar {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 3rem;
            cursor: pointer;
            background: none;
            border: none;
        }

        /* Responsividade */
        @media (max-width: 1024px) {
            .produtos-container {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
            
            .hero h2 {
                font-size: 2.8rem;
            }
        }

        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 1.5rem;
            }

            nav ul {
                flex-direction: column;
                align-items: center;
                gap: 1rem;
                width: 100%;
            }

            .nav-icon {
                display: block;
            }

            .nav-menu {
                display: none;
                width: 100%;
            }

            .nav-menu.active {
                display: block;
            }

            .hero {
                padding: 4rem 1.5rem;
            }

            .hero h2 {
                font-size: 2.2rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .container {
                padding: 0 1.5rem;
            }

            .form-container,
            .galeria-container,
            .admin-container {
                padding: 2rem;
            }
        }

        @media (max-width: 480px) {
            .produtos-container {
                grid-template-columns: 1fr;
            }

            .galeria {
                grid-template-columns: repeat(2, 1fr);
            }

            .admin-actions {
                grid-template-columns: 1fr;
            }

            .hero h2 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="spinner"></div>
        <p>Carregando...</p>
    </div>

    <!-- Modal para visualizar foto -->
    <div class="modal" id="modalFoto">
        <button class="modal-fechar" id="fecharModal">&times;</button>
        <img id="modalImagem" src="" alt="">
    </div>

    <!-- Cabe√ßalho Premium -->
    <header>
        <div class="header-container">
            <a href="#" class="logo">
                <i class="fas fa-palette logo-icon"></i>
                <div class="logo-text">
                    <h1>ELIAS ART GALLERY</h1>
                    <span>PINTURAS PREMIUM & PERSONALIZADAS</span>
                </div>
            </a>
            <div class="nav-icon" id="navIcon">
                <i class="fas fa-bars"></i>
            </div>
            <nav class="nav-menu" id="navMenu">
                <ul>
                    <li><a href="#produtos"><i class="fas fa-store"></i> Galeria</a></li>
                    <li><a href="#personalizada"><i class="fas fa-brush"></i> Encomenda</a></li>
                    <li><a href="#biblioteca"><i class="fas fa-images"></i> Portfolio</a></li>
                    <li><a href="#admin"><i class="fas fa-user-cog"></i> Administra√ß√£o</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <h2>Arte que Transforma Espa√ßos</h2>
        <p>Pinturas exclusivas e personalizadas criadas com paix√£o e t√©cnica apurada</p>
        <a href="#produtos" class="btn-enviar" style="margin-top: 2rem;">
            <i class="fas fa-eye"></i> Explorar Galeria
        </a>
    </section>

    <div class="container">
        <!-- Se√ß√£o de Produtos -->
        <section id="produtos">
            <h2 class="section-title">Galeria de Obras</h2>
            <div class="produtos-container" id="produtosLista">
                <!-- Produtos carregados via Supabase -->
            </div>
        </section>

        <!-- Se√ß√£o de Encomenda Personalizada -->
        <section id="personalizada">
            <h2 class="section-title">Encomende Sua Arte</h2>
            <div class="form-container">
                <p style="margin-bottom: 2rem; color: #4b5563; font-size: 1.1rem;">Descreva sua ideia e transformaremos em uma obra de arte √∫nica. Entraremos em contato pelo WhatsApp para detalhes.</p>
                <form id="formPersonalizada">
                    <div class="form-group">
                        <label for="nome"><i class="fas fa-user"></i> Seu Nome</label>
                        <input type="text" id="nome" name="nome" required placeholder="Digite seu nome completo">
                    </div>
                    <div class="form-group">
                        <label for="whatsapp"><i class="fab fa-whatsapp"></i> WhatsApp</label>
                        <input type="tel" id="whatsapp" name="whatsapp" required placeholder="(63) 99999-9999">
                    </div>
                    <div class="form-group">
                        <label for="descricao"><i class="fas fa-palette"></i> Descri√ß√£o da Obra</label>
                        <textarea id="descricao" name="descricao" placeholder="Descreva o estilo, cores, tema, tamanho desejado e qualquer inspira√ß√£o..." required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="foto"><i class="fas fa-image"></i> Refer√™ncia Visual (opcional)</label>
                        <div class="file-upload" onclick="document.getElementById('foto').click()">
                            <i class="fas fa-cloud-upload-alt" style="font-size: 3rem; color: var(--azul-claro); margin-bottom: 1rem;"></i>
                            <p>Clique para adicionar uma foto de refer√™ncia</p>
                            <p style="font-size: 0.9rem; color: #6b7280;">Arraste ou clique para selecionar</p>
                            <img id="fotoPreview" class="file-preview" alt="Pr√©via da imagem">
                        </div>
                        <input type="file" id="foto" name="foto" accept="image/*" style="display: none;" onchange="previewImage(this)">
                    </div>
                    <div id="mensagemStatus"></div>
                    <button type="submit" class="btn-enviar btn-whatsapp" id="btnEnviarForm">
                        <i class="fab fa-whatsapp"></i> Enviar Proposta
                    </button>
                </form>
            </div>
        </section>

        <!-- Portfolio -->
        <section id="biblioteca">
            <h2 class="section-title">Nosso Portfolio</h2>
            <div class="galeria-container">
                <p style="margin-bottom: 2rem; color: #4b5563; font-size: 1.1rem;">Galeria com trabalhos j√° realizados para nossos clientes.</p>
                <div class="galeria" id="galeriaFotos">
                    <!-- Fotos carregadas via Supabase -->
                </div>
            </div>
        </section>

        <!-- √Årea Administrativa -->
        <section id="admin">
            <h2 class="section-title">Painel Administrativo</h2>
            <div class="admin-container" id="adminContainer">
                <div class="admin-login" id="adminLogin">
                    <h3><i class="fas fa-lock"></i> Acesso Restrito</h3>
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="usuario">Usu√°rio Administrador</label>
                            <input type="text" id="usuario" name="usuario" required placeholder="Digite seu usu√°rio">
                        </div>
                        <div class="form-group">
                            <label for="senha">Senha de Acesso</label>
                            <input type="password" id="senha" name="senha" required placeholder="Digite sua senha">
                        </div>
                        <div id="loginStatus"></div>
                        <button type="submit" class="btn-enviar" id="btnLogin">
                            <i class="fas fa-sign-in-alt"></i> Acessar Painel
                        </button>
                    </form>
                </div>

                <div class="admin-area" id="adminArea">
                    <h3 style="color: var(--azul-profundo); margin-bottom: 2rem; text-align: center;">
                        <i class="fas fa-cogs"></i> Gerenciamento do Sistema
                    </h3>
                    
                    <div class="admin-actions">
                        <button class="admin-btn" id="btnAdicionarProduto">
                            <i class="fas fa-plus-circle"></i> Nova Obra
                        </button>
                        <button class="admin-btn" id="btnAdicionarFoto">
                            <i class="fas fa-image"></i> Adicionar ao Portfolio
                        </button>
                        <button class="admin-btn" id="btnGerenciarProdutos">
                            <i class="fas fa-boxes"></i> Gerenciar Obras
                        </button>
                        <button class="admin-btn" id="btnGerenciarFotos">
                            <i class="fas fa-photo-video"></i> Gerenciar Portfolio
                        </button>
                        <button class="admin-btn" id="btnVerSolicitacoes">
                            <i class="fas fa-comments"></i> Ver Encomendas
                        </button>
                        <button class="admin-btn" id="btnSairAdmin">
                            <i class="fas fa-sign-out-alt"></i> Sair
                        </button>
                    </div>

                    <!-- Formul√°rio para nova obra -->
                    <div class="form-container" id="formAdicionarProduto" style="display: none;">
                        <h4 style="margin-bottom: 2rem; color: var(--azul-profundo);">
                            <i class="fas fa-plus-circle"></i> Adicionar Nova Obra
                        </h4>
                        <form id="formProduto">
                            <div class="form-group">
                                <label for="produtoTitulo">T√≠tulo da Obra</label>
                                <input type="text" id="produtoTitulo" required placeholder="Nome da pintura">
                            </div>
                            <div class="form-group">
                                <label for="produtoDescricao">Descri√ß√£o Art√≠stica</label>
                                <textarea id="produtoDescricao" required placeholder="Descreva a t√©cnica, inspira√ß√£o e detalhes da obra"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="produtoPreco">Valor (R$)</label>
                                <input type="number" id="produtoPreco" step="0.01" required placeholder="0.00" min="0">
                            </div>
                            <div class="form-group">
                                <label for="produtoImagem">Imagem da Obra</label>
                                <div class="file-upload" onclick="document.getElementById('produtoImagem').click()">
                                    <i class="fas fa-cloud-upload-alt" style="font-size: 3rem; color: var(--azul-claro); margin-bottom: 1rem;"></i>
                                    <p>Clique para fazer upload da imagem</p>
                                    <p style="font-size: 0.9rem; color: #6b7280;">Formatos: JPG, PNG, WEBP (at√© 5MB)</p>
                                    <img id="produtoImagemPreview" class="file-preview" alt="Pr√©via da imagem">
                                </div>
                                <input type="file" id="produtoImagem" accept="image/*" style="display: none;" onchange="previewProdutoImage(this)">
                            </div>
                            <div id="produtoStatus"></div>
                            <button type="submit" class="btn-enviar" id="btnSalvarProduto">
                                <i class="fas fa-save"></i> Publicar Obra
                            </button>
                        </form>
                    </div>

                    <!-- Formul√°rio para adicionar foto ao portfolio -->
                    <div class="form-container" id="formAdicionarFoto" style="display: none;">
                        <h4 style="margin-bottom: 2rem; color: var(--azul-profundo);">
                            <i class="fas fa-image"></i> Adicionar ao Portfolio
                        </h4>
                        <form id="formFotoBiblioteca">
                            <div class="form-group">
                                <label for="fotoTitulo">T√≠tulo/T√©cnica</label>
                                <input type="text" id="fotoTitulo" placeholder="Ex: Pintura a √≥leo, Aquarela, etc.">
                            </div>
                            <div class="form-group">
                                <label for="fotoDescricao">Descri√ß√£o</label>
                                <textarea id="fotoDescricao" placeholder="Conte sobre esta obra, inspira√ß√£o ou t√©cnica utilizada"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="fotoBiblioteca">Imagem do Trabalho</label>
                                <div class="file-upload" onclick="document.getElementById('fotoBiblioteca').click()">
                                    <i class="fas fa-cloud-upload-alt" style="font-size: 3rem; color: var(--azul-claro); margin-bottom: 1rem;"></i>
                                    <p>Clique para fazer upload da foto</p>
                                    <p style="font-size: 0.9rem; color: #6b7280;">Formatos: JPG, PNG, WEBP (at√© 5MB)</p>
                                    <img id="fotoBibliotecaPreview" class="file-preview" alt="Pr√©via da imagem">
                                </div>
                                <input type="file" id="fotoBiblioteca" accept="image/*" style="display: none;" onchange="previewBibliotecaImage(this)">
                            </div>
                            <div id="fotoStatus"></div>
                            <button type="submit" class="btn-enviar" id="btnSalvarFoto">
                                <i class="fas fa-save"></i> Adicionar ao Portfolio
                            </button>
                        </form>
                    </div>

                    <!-- Lista de obras -->
                    <div id="listaProdutosAdmin" style="display: none;">
                        <h4 class="section-subtitle" style="margin-bottom: 2rem;">
                            <i class="fas fa-boxes"></i> Obras Cadastradas
                        </h4>
                        <div id="listaProdutosContainer">
                            <!-- Lista carregada via JavaScript -->
                        </div>
                    </div>

                    <!-- Lista de fotos do portfolio -->
                    <div id="listaFotosAdmin" style="display: none;">
                        <h4 class="section-subtitle" style="margin-bottom: 2rem;">
                            <i class="fas fa-photo-video"></i> Portfolio
                        </h4>
                        <div id="listaFotosContainer">
                            <!-- Fotos carregadas via JavaScript -->
                        </div>
                    </div>

                    <!-- Lista de encomendas -->
                    <div id="listaSolicitacoesAdmin" style="display: none;">
                        <h4 class="section-subtitle" style="margin-bottom: 2rem;">
                            <i class="fas fa-comments"></i> Encomendas Recebidas
                        </h4>
                        <div id="listaSolicitacoesContainer">
                            <!-- Solicita√ß√µes carregadas via JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Rodap√© Premium -->
    <footer>
        <div class="footer-content">
            <p><i class="fas fa-palette"></i> Elias Art Gallery - Arte Premium</p>
            <p><i class="fab fa-whatsapp"></i> WhatsApp: (63) 9273-6902</p>
            <p><i class="fas fa-star"></i> Obras Exclusivas & Encomendas Personalizadas</p>
            <p><i class="fas fa-shipping-fast"></i> Entregamos para Todo o Brasil</p>
            <p class="creditos">
                <i class="fas fa-code"></i> Desenvolvido por Kaique 
                <i class="fas fa-database" style="margin-left: 1rem;"></i> Powered by Supabase
            </p>
        </div>
    </footer>

    <script>
        // Configura√ß√£o do Supabase COM SUA CHAVE
        const SUPABASE_URL = 'https://ofinxoaqvzvubfjbatlm.supabase.co';
        const SUPABASE_ANON_KEY = 'sb_publishable_YLA2R_ZUtNHc5xyd5oVR9Q_zK4v9oUK';
        
        // Inicializar Supabase
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        // WhatsApp n√∫mero
        const whatsappNumber = "556392736902";

        // Elementos DOM
        const elements = {
            navIcon: document.getElementById('navIcon'),
            navMenu: document.getElementById('navMenu'),
            produtosLista: document.getElementById('produtosLista'),
            galeriaFotos: document.getElementById('galeriaFotos'),
            adminContainer: document.getElementById('adminContainer'),
            adminLogin: document.getElementById('adminLogin'),
            adminArea: document.getElementById('adminArea'),
            loginForm: document.getElementById('loginForm'),
            loginStatus: document.getElementById('loginStatus'),
            btnLogin: document.getElementById('btnLogin'),
            btnAdicionarProduto: document.getElementById('btnAdicionarProduto'),
            btnAdicionarFoto: document.getElementById('btnAdicionarFoto'),
            btnGerenciarProdutos: document.getElementById('btnGerenciarProdutos'),
            btnGerenciarFotos: document.getElementById('btnGerenciarFotos'),
            btnVerSolicitacoes: document.getElementById('btnVerSolicitacoes'),
            btnSairAdmin: document.getElementById('btnSairAdmin'),
            formAdicionarProduto: document.getElementById('formAdicionarProduto'),
            formAdicionarFoto: document.getElementById('formAdicionarFoto'),
            formProduto: document.getElementById('formProduto'),
            formFotoBiblioteca: document.getElementById('formFotoBiblioteca'),
            formPersonalizada: document.getElementById('formPersonalizada'),
            listaProdutosAdmin: document.getElementById('listaProdutosAdmin'),
            listaFotosAdmin: document.getElementById('listaFotosAdmin'),
            listaSolicitacoesAdmin: document.getElementById('listaSolicitacoesAdmin'),
            listaProdutosContainer: document.getElementById('listaProdutosContainer'),
            listaFotosContainer: document.getElementById('listaFotosContainer'),
            listaSolicitacoesContainer: document.getElementById('listaSolicitacoesContainer'),
            mensagemStatus: document.getElementById('mensagemStatus'),
            produtoStatus: document.getElementById('produtoStatus'),
            fotoStatus: document.getElementById('fotoStatus'),
            btnSalvarProduto: document.getElementById('btnSalvarProduto'),
            btnSalvarFoto: document.getElementById('btnSalvarFoto'),
            btnEnviarForm: document.getElementById('btnEnviarForm'),
            loadingOverlay: document.getElementById('loadingOverlay'),
            modalFoto: document.getElementById('modalFoto'),
            modalImagem: document.getElementById('modalImagem'),
            fecharModal: document.getElementById('fecharModal')
        };

        // Estado da aplica√ß√£o
        let adminLogado = false;
        let uploadEmProgresso = false;

        // Fun√ß√µes de preview de imagem
        function previewImage(input) {
            const preview = document.getElementById('fotoPreview');
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        function previewProdutoImage(input) {
            const preview = document.getElementById('produtoImagemPreview');
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        function previewBibliotecaImage(input) {
            const preview = document.getElementById('fotoBibliotecaPreview');
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        // Fun√ß√£o para mostrar loading
        function showLoading() {
            elements.loadingOverlay.style.display = 'flex';
        }

        function hideLoading() {
            elements.loadingOverlay.style.display = 'none';
        }

        // Fun√ß√£o para mostrar mensagem
        function mostrarMensagem(elemento, mensagem, tipo) {
            elemento.innerHTML = `<div class="mensagem ${tipo}">${mensagem}</div>`;
            
            setTimeout(() => {
                elemento.innerHTML = '';
            }, 5000);
        }

        // Fun√ß√£o para upload de imagem para o Supabase Storage
        async function uploadImagem(file, pasta) {
            if (uploadEmProgresso) {
                throw new Error('J√° existe um upload em progresso');
            }
            
            uploadEmProgresso = true;
            
            try {
                // Gerar nome √∫nico para o arquivo
                const fileExt = file.name.split('.').pop();
                const fileName = `${Date.now()}-${Math.random().toString(36).substr(2, 9)}.${fileExt}`;
                const filePath = `${pasta}/${fileName}`;

                // Fazer upload
                const { data, error } = await supabase.storage
                    .from('images')
                    .upload(filePath, file);

                if (error) throw error;

                // Obter URL p√∫blica
                const { data: { publicUrl } } = supabase.storage
                    .from('images')
                    .getPublicUrl(filePath);

                return publicUrl;
            } catch (error) {
                console.error('Erro no upload:', error);
                throw error;
            } finally {
                uploadEmProgresso = false;
            }
        }

        // Inicializa√ß√£o da p√°gina
        document.addEventListener('DOMContentLoaded', async function() {
            // Mostrar √°rea administrativa
            elements.adminContainer.style.display = 'block';
            
            // Carregar dados iniciais
            await carregarProdutos();
            await carregarFotosBiblioteca();
            
            // Configurar menu responsivo
            elements.navIcon.addEventListener('click', function() {
                elements.navMenu.classList.toggle('active');
            });
            
            // Configurar modal de foto
            elements.fecharModal.addEventListener('click', function() {
                elements.modalFoto.style.display = 'none';
            });
            
            elements.modalFoto.addEventListener('click', function(e) {
                if (e.target === elements.modalFoto) {
                    elements.modalFoto.style.display = 'none';
                }
            });
            
            // Configurar login administrativo
            elements.loginForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const usuario = document.getElementById('usuario').value;
                const senha = document.getElementById('senha').value;
                
                // Mostrar loading
                elements.btnLogin.innerHTML = '<div class="spinner"></div> Acessando...';
                elements.btnLogin.disabled = true;
                
                // Verificar credenciais
                await new Promise(resolve => setTimeout(resolve, 1000)); // Simular delay
                
                if (usuario === "Elis@21" && senha === "elias2176#") {
                    adminLogado = true;
                    elements.adminLogin.style.display = 'none';
                    elements.adminArea.style.display = 'block';
                    mostrarMensagem(elements.loginStatus, '‚úÖ Acesso concedido! Bem-vindo ao painel.', 'sucesso');
                } else {
                    mostrarMensagem(elements.loginStatus, '‚ùå Usu√°rio ou senha incorretos!', 'erro');
                }
                
                // Restaurar bot√£o
                elements.btnLogin.innerHTML = '<i class="fas fa-sign-in-alt"></i> Acessar Painel';
                elements.btnLogin.disabled = false;
            });
            
            // Configurar bot√µes da √°rea administrativa
            elements.btnAdicionarProduto.addEventListener('click', function() {
                mostrarFormulario('produto');
            });
            
            elements.btnAdicionarFoto.addEventListener('click', function() {
                mostrarFormulario('foto');
            });
            
            elements.btnGerenciarProdutos.addEventListener('click', async function() {
                mostrarLista('produtos');
                await carregarListaProdutosAdmin();
            });
            
            elements.btnGerenciarFotos.addEventListener('click', async function() {
                mostrarLista('fotos');
                await carregarListaFotosAdmin();
            });
            
            elements.btnVerSolicitacoes.addEventListener('click', async function() {
                mostrarLista('solicitacoes');
                await carregarSolicitacoesAdmin();
            });
            
            elements.btnSairAdmin.addEventListener('click', function() {
                adminLogado = false;
                elements.adminLogin.style.display = 'block';
                elements.adminArea.style.display = 'none';
                ocultarTodosFormularios();
                elements.loginForm.reset();
                elements.loginStatus.innerHTML = '';
            });
            
            // Configurar formul√°rio de adicionar produto
            elements.formProduto.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                if (!adminLogado) {
                    mostrarMensagem(elements.produtoStatus, '‚ùå Fa√ßa login primeiro!', 'erro');
                    return;
                }
                
                const titulo = document.getElementById('produtoTitulo').value;
                const descricao = document.getElementById('produtoDescricao').value;
                const preco = parseFloat(document.getElementById('produtoPreco').value);
                const imagemInput = document.getElementById('produtoImagem');
                
                if (!imagemInput.files[0]) {
                    mostrarMensagem(elements.produtoStatus, '‚ùå Selecione uma imagem para a obra!', 'erro');
                    return;
                }
                
                // Mostrar loading
                showLoading();
                elements.btnSalvarProduto.innerHTML = '<div class="spinner"></div> Publicando...';
                elements.btnSalvarProduto.disabled = true;
                
                try {
                    // Fazer upload da imagem
                    const imagemUrl = await uploadImagem(imagemInput.files[0], 'produtos');
                    
                    // Salvar produto no banco
                    const { error } = await supabase
                        .from('produtos')
                        .insert([
                            { 
                                titulo: titulo, 
                                descricao: descricao, 
                                preco: preco, 
                                imagem_url: imagemUrl,
                                ativo: true
                            }
                        ]);
                    
                    if (error) throw error;
                    
                    mostrarMensagem(elements.produtoStatus, '‚úÖ Obra publicada com sucesso!', 'sucesso');
                    
                    // Limpar formul√°rio
                    elements.formProduto.reset();
                    document.getElementById('produtoImagemPreview').style.display = 'none';
                    elements.formAdicionarProduto.style.display = 'none';
                    
                    // Atualizar listas
                    await carregarProdutos();
                } catch (error) {
                    mostrarMensagem(elements.produtoStatus, `‚ùå Erro: ${error.message}`, 'erro');
                } finally {
                    hideLoading();
                    elements.btnSalvarProduto.innerHTML = '<i class="fas fa-save"></i> Publicar Obra';
                    elements.btnSalvarProduto.disabled = false;
                }
            });
            
            // Configurar formul√°rio de adicionar foto ao portfolio
            elements.formFotoBiblioteca.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                if (!adminLogado) {
                    mostrarMensagem(elements.fotoStatus, '‚ùå Fa√ßa login primeiro!', 'erro');
                    return;
                }
                
                const titulo = document.getElementById('fotoTitulo').value;
                const descricao = document.getElementById('fotoDescricao').value;
                const imagemInput = document.getElementById('fotoBiblioteca');
                
                if (!imagemInput.files[0]) {
                    mostrarMensagem(elements.fotoStatus, '‚ùå Selecione uma imagem!', 'erro');
                    return;
                }
                
                // Mostrar loading
                showLoading();
                elements.btnSalvarFoto.innerHTML = '<div class="spinner"></div> Adicionando...';
                elements.btnSalvarFoto.disabled = true;
                
                try {
                    // Fazer upload da imagem
                    const imagemUrl = await uploadImagem(imagemInput.files[0], 'portfolio');
                    
                    // Salvar foto no banco
                    const { error } = await supabase
                        .from('biblioteca_fotos')
                        .insert([
                            { 
                                url: imagemUrl,
                                descricao: descricao || titulo || 'Foto do portfolio'
                            }
                        ]);
                    
                    if (error) throw error;
                    
                    mostrarMensagem(elements.fotoStatus, '‚úÖ Foto adicionada ao portfolio!', 'sucesso');
                    
                    // Limpar formul√°rio
                    elements.formFotoBiblioteca.reset();
                    document.getElementById('fotoBibliotecaPreview').style.display = 'none';
                    elements.formAdicionarFoto.style.display = 'none';
                    
                    // Atualizar galeria
                    await carregarFotosBiblioteca();
                } catch (error) {
                    mostrarMensagem(elements.fotoStatus, `‚ùå Erro: ${error.message}`, 'erro');
                } finally {
                    hideLoading();
                    elements.btnSalvarFoto.innerHTML = '<i class="fas fa-save"></i> Adicionar ao Portfolio';
                    elements.btnSalvarFoto.disabled = false;
                }
            });
            
            // Configurar formul√°rio de encomenda personalizada
            elements.formPersonalizada.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const nome = document.getElementById('nome').value;
                const whatsapp = document.getElementById('whatsapp').value;
                const descricao = document.getElementById('descricao').value;
                const fotoInput = document.getElementById('foto');
                
                // Mostrar loading
                showLoading();
                elements.btnEnviarForm.innerHTML = '<div class="spinner"></div> Enviando...';
                elements.btnEnviarForm.disabled = true;
                
                try {
                    let imagemUrl = null;
                    
                    // Se houver imagem, fazer upload
                    if (fotoInput.files[0]) {
                        imagemUrl = await uploadImagem(fotoInput.files[0], 'solicitacoes');
                    }
                    
                    // Salvar solicita√ß√£o no banco
                    const { error } = await supabase
                        .from('solicitacoes_personalizadas')
                        .insert([
                            { 
                                nome_cliente: nome, 
                                descricao: descricao,
                                whatsapp: whatsapp,
                                referencia_url: imagemUrl,
                                status: 'pendente'
                            }
                        ]);
                    
                    if (error) throw error;
                    
                    // Preparar mensagem para WhatsApp
                    let mensagem = `Ol√°! Gostaria de solicitar uma pintura personalizada.%0A%0A`;
                    mensagem += `*Nome:* ${nome}%0A`;
                    mensagem += `*WhatsApp:* ${whatsapp}%0A`;
                    mensagem += `*Descri√ß√£o da obra:*%0A${descricao}%0A%0A`;
                    mensagem += `Por favor, entre em contato para discutirmos os detalhes e o or√ßamento!`;
                    
                    // Abrir WhatsApp
                    window.open(`https://wa.me/${whatsappNumber}?text=${mensagem}`, '_blank');
                    
                    // Limpar formul√°rio
                    elements.formPersonalizada.reset();
                    document.getElementById('fotoPreview').style.display = 'none';
                    mostrarMensagem(elements.mensagemStatus, '‚úÖ Proposta enviada com sucesso! Em breve entraremos em contato.', 'sucesso');
                } catch (error) {
                    mostrarMensagem(elements.mensagemStatus, `‚ùå Erro ao enviar: ${error.message}`, 'erro');
                } finally {
                    hideLoading();
                    elements.btnEnviarForm.innerHTML = '<i class="fab fa-whatsapp"></i> Enviar Proposta';
                    elements.btnEnviarForm.disabled = false;
                }
            });
            
            // Fechar menu ao clicar em um link
            document.querySelectorAll('nav a').forEach(link => {
                link.addEventListener('click', () => {
                    elements.navMenu.classList.remove('active');
                });
            });
        });
        
        // Fun√ß√µes para mostrar/ocultar formul√°rios
        function mostrarFormulario(tipo) {
            ocultarTodosFormularios();
            
            if (tipo === 'produto') {
                elements.formAdicionarProduto.style.display = 'block';
            } else if (tipo === 'foto') {
                elements.formAdicionarFoto.style.display = 'block';
            }
        }
        
        function mostrarLista(tipo) {
            ocultarTodosFormularios();
            
            elements.listaProdutosAdmin.style.display = 'none';
            elements.listaFotosAdmin.style.display = 'none';
            elements.listaSolicitacoesAdmin.style.display = 'none';
            
            if (tipo === 'produtos') {
                elements.listaProdutosAdmin.style.display = 'block';
            } else if (tipo === 'fotos') {
                elements.listaFotosAdmin.style.display = 'block';
            } else if (tipo === 'solicitacoes') {
                elements.listaSolicitacoesAdmin.style.display = 'block';
            }
        }
        
        function ocultarTodosFormularios() {
            elements.formAdicionarProduto.style.display = 'none';
            elements.formAdicionarFoto.style.display = 'none';
            elements.listaProdutosAdmin.style.display = 'none';
            elements.listaFotosAdmin.style.display = 'none';
            elements.listaSolicitacoesAdmin.style.display = 'none';
        }
        
        // Fun√ß√µes do Supabase
        async function carregarProdutos() {
            try {
                showLoading();
                const { data, error } = await supabase
                    .from('produtos')
                    .select('*')
                    .eq('ativo', true)
                    .order('created_at', { ascending: false });
                
                if (error) throw error;
                
                elements.produtosLista.innerHTML = '';
                
                if (!data || data.length === 0) {
                    elements.produtosLista.innerHTML = `
                        <div style="grid-column: 1/-1; text-align: center; padding: 4rem;">
                            <i class="fas fa-palette" style="font-size: 4rem; color: var(--azul-claro); margin-bottom: 1rem;"></i>
                            <h3 style="color: var(--azul-profundo); margin-bottom: 1rem;">Galeria em Atualiza√ß√£o</h3>
                            <p style="color: #6b7280;">Novas obras em breve!</p>
                        </div>
                    `;
                    return;
                }
                
                data.forEach(produto => {
                    const produtoCard = document.createElement('div');
                    produtoCard.className = 'produto-card';
                    produtoCard.innerHTML = `
                        <img src="${produto.imagem_url}" alt="${produto.titulo}" class="produto-img">
                        <div class="produto-info">
                            <h3 class="produto-titulo">${produto.titulo}</h3>
                            <p class="produto-desc">${produto.descricao}</p>
                            <p class="produto-preco">${produto.preco.toFixed(2)}</p>
                            <a href="https://wa.me/${whatsappNumber}?text=Ol√°! Gostaria de saber mais sobre: ${encodeURIComponent(produto.titulo)} - R$ ${produto.preco.toFixed(2)}. Pode me informar detalhes e valor da entrega?" 
                               target="_blank" class="btn-comprar btn-whatsapp">
                                <i class="fab fa-whatsapp"></i> Consultar Disponibilidade
                            </a>
                        </div>
                    `;
                    
                    elements.produtosLista.appendChild(produtoCard);
                });
            } catch (error) {
                console.error('Erro ao carregar produtos:', error);
                elements.produtosLista.innerHTML = `
                    <div style="grid-column: 1/-1; text-align: center; padding: 4rem; color: #ef4444;">
                        <i class="fas fa-exclamation-triangle" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                        <p>Erro ao carregar a galeria. Tente novamente.</p>
                    </div>
                `;
            } finally {
                hideLoading();
            }
        }
        
        async function carregarFotosBiblioteca() {
            try {
                const { data, error } = await supabase
                    .from('biblioteca_fotos')
                    .select('*')
                    .order('created_at', { ascending: false })
                    .limit(12);
                
                if (error) throw error;
                
                elements.galeriaFotos.innerHTML = '';
                
                if (!data || data.length === 0) {
                    elements.galeriaFotos.innerHTML = `
                        <div style="grid-column: 1/-1; text-align: center; padding: 4rem;">
                            <i class="fas fa-camera" style="font-size: 4rem; color: var(--azul-claro); margin-bottom: 1rem;"></i>
                            <p style="color: #6b7280;">Portfolio em constru√ß√£o...</p>
                        </div>
                    `;
                    return;
                }
                
                data.forEach(foto => {
                    const fotoItem = document.createElement('div');
                    fotoItem.className = 'foto-item';
                    fotoItem.innerHTML = `
                        <img src="${foto.url}" alt="${foto.descricao || 'Trabalho art√≠stico'}" 
                             onclick="abrirModal('${foto.url}')">
                    `;
                    
                    elements.galeriaFotos.appendChild(fotoItem);
                });
            } catch (error) {
                console.error('Erro ao carregar fotos:', error);
            }
        }
        
        // Fun√ß√µes para gerenciamento de produtos
        async function carregarListaProdutosAdmin() {
            try {
                const { data, error } = await supabase
                    .from('produtos')
                    .select('*')
                    .order('created_at', { ascending: false });
                
                if (error) throw error;
                
                elements.listaProdutosContainer.innerHTML = '';
                
                if (!data || data.length === 0) {
                    elements.listaProdutosContainer.innerHTML = `
                        <div style="text-align: center; padding: 3rem; color: #6b7280;">
                            <i class="fas fa-box-open" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                            <p>Nenhuma obra cadastrada.</p>
                        </div>
                    `;
                    return;
                }
                
                data.forEach(produto => {
                    const produtoItem = document.createElement('div');
                    produtoItem.className = 'produto-admin-item';
                    produtoItem.style.cssText = `
                        background: white;
                        padding: 1.5rem;
                        margin-bottom: 1rem;
                        border-radius: 12px;
                        box-shadow: 0 4px 12px rgba(0,0,0,0.08);
                        display: flex;
                        align-items: center;
                        gap: 1.5rem;
                        border-left: 4px solid var(--azul-vibrante);
                    `;
                    
                    produtoItem.innerHTML = `
                        <img src="${produto.imagem_url}" alt="${produto.titulo}" 
                             style="width: 80px; height: 80px; object-fit: cover; border-radius: 8px;">
                        <div style="flex-grow: 1;">
                            <div style="font-weight: 700; color: var(--azul-profundo); margin-bottom: 0.3rem;">
                                ${produto.titulo}
                            </div>
                            <div style="font-weight: 700; color: var(--azul-vibrante); margin-bottom: 0.5rem;">
                                R$ ${produto.preco.toFixed(2)}
                            </div>
                            <div style="font-size: 0.9rem; color: #6b7280; margin-bottom: 0.3rem;">
                                ${produto.descricao.substring(0, 100)}...
                            </div>
                            <div style="font-size: 0.8rem; color: ${produto.ativo ? '#10b981' : '#ef4444'};">
                                ${produto.ativo ? 'üü¢ Ativo' : 'üî¥ Inativo'}
                            </div>
                        </div>
                        <div style="display: flex; gap: 0.5rem;">
                            <button class="admin-btn" onclick="alternarStatusProduto(${produto.id}, ${produto.ativo})"
                                    style="padding: 0.5rem 1rem; font-size: 0.9rem;">
                                <i class="fas ${produto.ativo ? 'fa-eye-slash' : 'fa-eye'}"></i>
                            </button>
                            <button class="admin-btn btn-excluir" onclick="excluirProdutoSupabase(${produto.id})"
                                    style="padding: 0.5rem 1rem; font-size: 0.9rem;">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    `;
                    
                    elements.listaProdutosContainer.appendChild(produtoItem);
                });
            } catch (error) {
                console.error('Erro ao carregar produtos admin:', error);
            }
        }
        
        async function alternarStatusProduto(id, ativoAtual) {
            try {
                const { error } = await supabase
                    .from('produtos')
                    .update({ ativo: !ativoAtual })
                    .eq('id', id);
                
                if (error) throw error;
                
                await carregarListaProdutosAdmin();
                await carregarProdutos();
            } catch (error) {
                alert('‚ùå Erro ao alterar status: ' + error.message);
            }
        }
        
        async function excluirProdutoSupabase(id) {
            if (!confirm('‚ö†Ô∏è Tem certeza que deseja excluir esta obra permanentemente?')) return;
            
            try {
                const { error } = await supabase
                    .from('produtos')
                    .delete()
                    .eq('id', id);
                
                if (error) throw error;
                
                alert('‚úÖ Obra exclu√≠da com sucesso!');
                await carregarListaProdutosAdmin();
                await carregarProdutos();
            } catch (error) {
                alert('‚ùå Erro ao excluir: ' + error.message);
            }
        }
        
        // Fun√ß√µes para gerenciamento de fotos
        async function carregarListaFotosAdmin() {
            try {
                const { data, error } = await supabase
                    .from('biblioteca_fotos')
                    .select('*')
                    .order('created_at', { ascending: false });
                
                if (error) throw error;
                
                elements.listaFotosContainer.innerHTML = '';
                
                if (!data || data.length === 0) {
                    elements.listaFotosContainer.innerHTML = `
                        <div style="text-align: center; padding: 3rem; color: #6b7280;">
                            <i class="fas fa-image" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                            <p>Nenhuma foto no portfolio.</p>
                        </div>
                    `;
                    return;
                }
                
                elements.listaFotosContainer.style.cssText = `
                    display: grid;
                    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
                    gap: 1.5rem;
                `;
                
                data.forEach(foto => {
                    const fotoItem = document.createElement('div');
                    fotoItem.style.cssText = `
                        position: relative;
                        border-radius: 12px;
                        overflow: hidden;
                        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
                    `;
                    
                    fotoItem.innerHTML = `
                        <img src="${foto.url}" alt="Foto" 
                             style="width: 100%; height: 150px; object-fit: cover;">
                        <button class="admin-btn btn-excluir" 
                                onclick="excluirFotoSupabase(${foto.id})"
                                style="position: absolute; top: 8px; right: 8px; padding: 0.5rem; border-radius: 50%;">
                            <i class="fas fa-times"></i>
                        </button>
                    `;
                    
                    elements.listaFotosContainer.appendChild(fotoItem);
                });
            } catch (error) {
                console.error('Erro ao carregar fotos admin:', error);
            }
        }
        
        async function excluirFotoSupabase(id) {
            if (!confirm('‚ö†Ô∏è Excluir esta foto do portfolio?')) return;
            
            try {
                const { error } = await supabase
                    .from('biblioteca_fotos')
                    .delete()
                    .eq('id', id);
                
                if (error) throw error;
                
                alert('‚úÖ Foto exclu√≠da!');
                await carregarListaFotosAdmin();
                await carregarFotosBiblioteca();
            } catch (error) {
                alert('‚ùå Erro ao excluir: ' + error.message);
            }
        }
        
        // Fun√ß√£o para carregar solicita√ß√µes
        async function carregarSolicitacoesAdmin() {
            try {
                const { data, error } = await supabase
                    .from('solicitacoes_personalizadas')
                    .select('*')
                    .order('created_at', { ascending: false });
                
                if (error) throw error;
                
                elements.listaSolicitacoesContainer.innerHTML = '';
                
                if (!data || data.length === 0) {
                    elements.listaSolicitacoesContainer.innerHTML = `
                        <div style="text-align: center; padding: 3rem; color: #6b7280;">
                            <i class="fas fa-comments" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                            <p>Nenhuma encomenda recebida ainda.</p>
                        </div>
                    `;
                    return;
                }
                
                data.forEach(solicitacao => {
                    const item = document.createElement('div');
                    item.style.cssText = `
                        background: white;
                        padding: 1.5rem;
                        margin-bottom: 1.5rem;
                        border-radius: 12px;
                        box-shadow: 0 4px 12px rgba(0,0,0,0.08);
                        border-left: 4px solid var(--ouro-premium);
                    `;
                    
                    const statusColor = solicitacao.status === 'pendente' ? '#f59e0b' : 
                                      solicitacao.status === 'respondido' ? '#10b981' : '#6b7280';
                    
                    item.innerHTML = `
                        <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                            <div style="font-weight: 700; color: var(--azul-profundo);">
                                ${solicitacao.nome_cliente}
                            </div>
                            <div style="font-size: 0.9rem; color: ${statusColor}; font-weight: 600;">
                                ${solicitacao.status.toUpperCase()}
                            </div>
                        </div>
                        <div style="color: #6b7280; margin-bottom: 1rem; line-height: 1.5;">
                            ${solicitacao.descricao}
                        </div>
                        <div style="display: flex; gap: 1rem; align-items: center;">
                            <div style="font-size: 0.9rem; color: var(--azul-vibrante);">
                                <i class="fab fa-whatsapp"></i> ${solicitacao.whatsapp || 'N√£o informado'}
                            </div>
                            <button class="admin-btn" onclick="marcarComoRespondido(${solicitacao.id})"
                                    style="padding: 0.5rem 1rem; font-size: 0.9rem; margin-left: auto;">
                                <i class="fas fa-check"></i> Respondido
                            </button>
                        </div>
                        ${solicitacao.referencia_url ? `
                            <div style="margin-top: 1rem;">
                                <img src="${solicitacao.referencia_url}" alt="Refer√™ncia" 
                                     style="max-width: 150px; border-radius: 8px;">
                            </div>
                        ` : ''}
                    `;
                    
                    elements.listaSolicitacoesContainer.appendChild(item);
                });
            } catch (error) {
                console.error('Erro ao carregar solicita√ß√µes:', error);
            }
        }
        
        async function marcarComoRespondido(id) {
            try {
                const { error } = await supabase
                    .from('solicitacoes_personalizadas')
                    .update({ status: 'respondido' })
                    .eq('id', id);
                
                if (error) throw error;
                
                alert('‚úÖ Marcada como respondida!');
                await carregarSolicitacoesAdmin();
            } catch (error) {
                alert('‚ùå Erro: ' + error.message);
            }
        }
        
        // Fun√ß√£o para abrir modal de foto
        function abrirModal(url) {
            elements.modalImagem.src = url;
            elements.modalFoto.style.display = 'flex';
        }
        
        // Expor fun√ß√µes para escopo global
        window.alternarStatusProduto = alternarStatusProduto;
        window.excluirProdutoSupabase = excluirProdutoSupabase;
        window.excluirFotoSupabase = excluirFotoSupabase;
        window.marcarComoRespondido = marcarComoRespondido;
        window.abrirModal = abrirModal;
        window.previewImage = previewImage;
        window.previewProdutoImage = previewProdutoImage;
        window.previewBibliotecaImage = previewBibliotecaImage;
    </script>
</body>
</html>